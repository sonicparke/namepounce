"use strict";var app=angular.module("NamePounce",["ui.bootstrap","loader"]);app.config(["$routeProvider","$locationProvider",function($routeProvider,$locationProvider){$locationProvider.html5Mode(!0),$routeProvider.when("/term",{templateUrl:"partials/term.html",controller:"TermCtrl",reloadOnSearch:!1}),$routeProvider.when("/pounceit",{templateUrl:"partials/PounceConfig.html",controller:"PounceConfigViewCtrl",reloadOnSearch:!1}),$routeProvider.otherwise({redirectTo:"/",controller:"MainCtrl",templateUrl:"partials/main.html"})}]),app.controller("MainCtrl",["$scope","$location",function($scope,$location){$scope.InitPage=function(){$scope.PageTitle="Name Pounce",$scope.GetDataItems=[],$scope.userID="",$scope.searching=!1,$scope.searchButtonText="Check Availability",$scope.saving=!1,$scope.disabled=!1;var blankform={domainName:""};$scope.nameQuery=angular.copy(blankform),$scope.CheckCredentials()},$scope.alerts=[],$scope.closeAlert=function(index){$scope.alerts.splice(index,1)},$scope.CheckCredentials=function(){$scope.loggedIn=$scope.userID.length>0?!0:!1},$scope.Login=function(){console.log("login Creds:",$scope.login),$scope.userID=$scope.login.userID,$scope.CheckCredentials($scope.userID)},$scope.Logout=function(){console.log("logout Creds:",$scope.logout),$scope.userID="",$scope.CheckCredentials($scope.userID)},$scope.CheckAvailability=function(){$scope.searchButtonText="Checking",$scope.searching=!0,$scope.disabled=!0,$scope.alerts.length=0,"brad.com"===$scope.nameQuery.domainName?($scope.domainAvailable=!1,$scope.resetForm(),$location.path("/pounceit")):($scope.domainAvailable=!0,$scope.resetForm(),$scope.alerts.push({msg:"Domain is Available!",type:"success",autoclose:!0,autoclosetime:3e3}))},$scope.resetForm=function(){$scope.searching=!1,$scope.searchButtonText="Check Availability",$scope.saving=!1,$scope.disabled=!1}}]),app.controller("PounceConfigViewCtrl",["$scope","$location",function($scope){$scope.InitPage=function(){$scope.nameQuery=$scope.$parent.nameQuery,$scope.userID=$scope.$parent.userID,$scope.searching=!1,$scope.pounceButtonText="Pounce It!",$scope.saving=!1,$scope.disabled=!1;var blankform={domainName:$scope.nameQuery.domainName,email:"",userID:$scope.userID};$scope.pounceIt=angular.copy(blankform),console.log("$scope.nameQuery",$scope.nameQuery),console.log("$scope.pounceIt",$scope.pounceIt),$scope.showPost=!1},$scope.PounceIt=function(){$scope.showPost=!0}}]),angular.module("ui.bootstrap.alert",[]).directive("alert",["$timeout",function($timeout){return{restrict:"E",templateUrl:"partials/alert.html",transclude:!0,scope:{type:"=",close:"&",autoclose:"=",autoclosetime:"="},link:function(scope){scope.type=scope.type||"info",scope.timedDismiss=function(){$timeout(function(){scope.close()},scope.autoclosetime)},scope.autoclose===!0&&scope.timedDismiss(),scope.dismiss=function(){scope.close()}}}}]),angular.module("loader",[]).directive("ngLoader",function(){return{restrict:"E,A",template:'<div ng-show="showLoader" class="ngLoader"><img src="http://axccdn.harsco.com/cdn/images/loading-spinner-24_whitebg.gif" /></div>'}});